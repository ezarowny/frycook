<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>frycook.recipe_template</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="frycook-module.html">Package&nbsp;frycook</a> ::
        Module&nbsp;recipe_template
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="frycook.recipe_template-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module recipe_template</h1><p class="nomargin-top"><span class="codelink"><a href="frycook.recipe_template-pysrc.html">source&nbsp;code</a></span></p>
<p>Recipes define subsystems that are distinct parts of larger systems.  
  They are the basic units of setup in frycook.  Generally a recipe 
  corresponds to a package that needs to be installed or configured.</p>
  <h1 class="heading">idempotence</h1>
    <p>One thing to keep in mind when creating recipes and cookbooks is 
    idempotency. By keeping idempotency in mind in general you can create 
    recipes that you can run again and again to push out minor changes to a
    package.  This way your recipes become the only way that you modify 
    your servers and can be a single chokepoint that you can monitor to 
    make sure things happen properly.</p>
    <p>Lots of the cuisine functions you'll use have an &quot;ensure&quot; 
    version that first checks to see if a condition is true before applying
    it, such as checking if a package is installed before trying to install
    it.  This is nice when things could cause undesired configuration 
    changes or expensive operations that you don't want to happen every 
    time.  These functions are a huge aid in writing idempotent recipes and
    cookbooks.</p>
  <h1 class="heading">rudeness</h1>
    <p>Another thing to keep in mind is that some actions performed in 
    recipes can affect the end users of the systems, in effect being rude 
    to them.  This might cause an outage or otherwise mess them up.  The 
    recipe class keeps track of whether or not this is ok in its 
    'ok_to_be_rude' variable so you can know what actions are acceptable.  
    Consult this before doing rude things.</p>
  <h1 class="heading">file set copying</h1>
    <p>The Recipe class defines a few helper functions for handling 
    templates and copying files to servers.  It runs files with a .tmplt 
    extension through Mako, using the dictionary you pass to it.  Regular 
    files just get copied.  You can specify owner, group, and permissions 
    on a per-directory and per-file basis.</p>
  <h1 class="heading">git repo checkouts</h1>
    <p>The Recipe class also defines some helper functions for working with
    git repos. You can checkout a git repo onto the remote machine, or 
    check it out locally and copy it to the remote machine if you don't 
    want to setup the remote machine to be able to do checkouts.</p>
  <h1 class="heading">apply process</h1>
    <p>This is where you apply a recipe to a server.  There are two class 
    methods that get called during the apply process, and possibly two 
    messages that get displayed.  Generally you'll just override the apply 
    method and sometimes add pre_apply or post_apply messages.  If you 
    override pre_apply_checks, remember to call the base class method.  
    Here's the order that things happen in:</p>
    <p>pre_apply_message -&gt; pre_apply_checks() -&gt; apply() -&gt; 
    post_apply_message</p>

<!-- ==================== CLASSES ==================== -->
<a name="section-Classes"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Classes</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Classes"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="frycook.recipe_template.RecipeException-class.html" class="summary-name">RecipeException</a><br />
      A RecipeException exception is raised for exceptional conditions 
        encountered while using the Recipe class.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="frycook.recipe_template.FileMetaDataTracker-class.html" class="summary-name">FileMetaDataTracker</a><br />
      A FileMetaDataTracker object keeps track of owner, group, and 
        permissions for files and directories during a push_package_fileset
        operation.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="frycook.recipe_template.FileDeleter-class.html" class="summary-name">FileDeleter</a><br />
      A FileDeleter object deletes unwanted files from a directory.
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a href="frycook.recipe_template.Recipe-class.html" class="summary-name">Recipe</a><br />
      The Recipe class is the base class for all recipes to subclass.
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'frycook'"><code class="variable-quote">'</code><code class="variable-string">frycook</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Feb 11 19:24:17 2014
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
